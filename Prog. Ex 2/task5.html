<script>
    class Node {
        constructor(data) {
            this.data = data
            this.next = null
        }
    }

    class List {
        constructor() {
            this.head = null
        }
        insertAtAnyPos(index, data) {
            const newNode = new Node(data)
            let current = this.head
            if (index == 0) {
                newNode.next = current
                this.head = newNode
                return
            }
            if (current == null) {
                console.log("No head is present")
                return
            }
            while (--index) {
                if (current.next != null) {
                    current = current.next
                } else {
                    console.log("Index out of boundary")
                    return
                }
            }
            let temp = current.next
            current.next = newNode
            newNode.next = temp
        }
        removeOddIndices() {
            let current = this.head
            let prev = null
            let index = 1

            while (current != null) {
                if (index % 2 == 1) {
                    if (prev == null) {
                        this.head = current.next
                    } else {
                        prev.next = current.next
                    }
                    let temp = current
                    current = current.next
                    temp = null
                } else {
                    prev = current
                    current = current.next
                }
                index++
            }
        }
    }

    const list = new List
    list.insertAtAnyPos(0, 10)
    list.insertAtAnyPos(1, 20)
    list.insertAtAnyPos(2, 30)
    list.insertAtAnyPos(3, 20)
    list.insertAtAnyPos(4, 10)
    list.insertAtAnyPos(5, 10)
    list.removeOddIndices()
    console.log(list)
</script>
